<section class="vh-100" style="background-color: #f4f5f7;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11 mb-4 mb-lg-0">
        <div class="card mb-3" style="border-radius: .5rem;">
          <div class="row g-0">
            <div  class="col-md-4 gradient-custom text-center text-white"
              style="border-top-left-radius: .5rem; border-bottom-left-radius: .5rem;">
              <img src="https://www.pngall.com/wp-content/uploads/12/Avatar-Profile-PNG-Clipart.png"
                alt="Avatar" class="img-fluid my-5" style="width: 80px;" />
              <h3>{{users.firstName}} {{users.lastName}}</h3>
              <h5>{{currentDate | date: 'dd MMM yyyy '}}</h5>
            </div>
            <div class="col-md-8">
              <div class="card-body p-4">
                <h3>Profile</h3>
                <hr class="mt-0 mb-4">
                <div class="row pt-1">
                  <div class="col-6 mb-3">
                    <h4>First Name</h4>
                    <input class="firstName" [(ngModel)]="userProfile.firstName" type="text" required  ngModel #firstName="ngModel"
                    [class.is-invalid]="firstName.invalid && firstName.dirty" class="form-control" />
                    <div *ngIf="firstName.errors" >
                     <div *ngIf="!firstName.errors?.['required']" class="error">
                       <strong> Please enter your first name. </strong>
                     </div>
                    </div>
                  </div>
                  <div class="col-6 mb-3">
                    <h4>Last Name</h4>
                    <input class="firstName" [(ngModel)]="userProfile.lastName" type="text" required  ngModel #lastName="ngModel"
                    [class.is-invalid]="lastName.invalid && lastName.dirty" class="form-control" />
                    <div *ngIf="lastName.errors" >
                     <div *ngIf="!lastName.errors?.['required']" class="error">
                       <strong> Please enter your last name. </strong>
                     </div>
                    </div>
                  </div>
                </div>
                <div class="row pt-1">
                  <div class="col-6 mb-3">
                    <h4>Username</h4>
                    <input class="firstName" [(ngModel)]="userProfile.username" type="text" required  ngModel #username="ngModel"
                    [class.is-invalid]="username.invalid && username.dirty" class="form-control" />
                    <div *ngIf='invalidUsername' class="danger" role="alert">
                      {{errorMessageUsername}}
                    </div>
                    <div *ngIf="username.errors" >
                     <div *ngIf="!username.errors?.['required']" class="error">
                       <strong> Please enter your username. </strong>
                     </div>
                    </div>
                  </div>
                  <div class="col-6 mb-3">
                    <h4>Email</h4>
                    <input class="firstName" [(ngModel)]="userProfile.email" type="email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" ngModel #firstEmail="ngModel"
                    [class.is-invalid]="firstEmail.invalid && firstEmail.dirty" class="form-control" />
                    <div *ngIf='invalidEmail' class="danger" role="alert">
                      {{errorMessageEmail}}
                    </div>
                    <div *ngIf="firstEmail.errors" >
                     <div *ngIf="!firstEmail.errors?.['required']" class="error">
                       <strong> A valid email is required. </strong>
                     </div>
                    </div>

                  </div>
                  <div class="boxContainer">
                  <div class="col-6 mb-3">
                    <h4>Password</h4>
                    <input class="firstName" [(ngModel)]="userProfile.password" type="password" class="form-control" #safePassword="ngModel"
                    [class.is-invalid]="safePassword.invalid && safePassword.dirty"  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{7,18}$" required minlength="7" maxlength="18" required="required" [type]="show_button ? 'text' : 'password'"><i *ngIf="safePassword.dirty" [class]="show_eye ? 'fa fa-eye' : 'fa fa-eye-slash'" (click)="showPassword()"></i>
                    <div *ngIf="safePassword.errors" >
                      <div *ngIf="!safePassword.errors?.['required']" class="error">
                        <strong>Please enter your password</strong>
                        <ul>
                          <li>At least 1 Uppercase</li>
                          <li>At least 1 Lowercase</li>
                          <li>At least 1 Number</li>
                          <li>At least 1 Symbol e.g. !@#$%^&*_=+-</li>
                          <li>Min 7 characters and Max 18 characters</li>
                        </ul>
                      </div>
                     </div>
                    </div>
                  </div>
                </div>
                <div class="btnSave">
                  <div class="remove">
                <button (click)="updateProfile()" type="button" class="btn btn-outline-primary">Save</button>
                </div>
                <div class="remove">
                <button (click)="removeAccount()"  type="button" class="btn btn-outline-danger">Delete Account</button>
              </div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
